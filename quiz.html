<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="utf-8"/>
  <meta content="width=device-width, initial-scale=1.0" name="viewport"/>
  <title>Anaesthesia Machine</title>
  <script src="https://cdn.tailwindcss.com"></script>
  <script src="https://cdn.jsdelivr.net/npm/hls.js@latest"></script>
  <script src="https://cdn.jsdelivr.net/npm/canvas-confetti@1.6.0/dist/confetti.browser.min.js"></script>
  <link rel="stylesheet" href="quiz-styles.css">
</head>
<body class="bg-gray-100 font-sans transition-colors duration-300">

 Header Section 
<header class="bg-[#2c5281] text-white p-4 shadow-lg">
  <div class="container mx-auto">
    <h1 class="text-2xl md:text-3xl font-bold header-text">Anaesthesia Machine</h1>
    <p class="mt-2 text-sm md:text-base subheader-text">
      4 Questions | 4 Total Marks | 14 min Duration | ~60 sec/question
    </p>
  </div>
</header>

 Instructions Section 
<section class="container mx-auto px-4 md:px-6 pt-4 md:pt-6 pb-1 section-transition" id="instructions">
  <div class="bg-white rounded-lg shadow-md p-4 md:p-6">
    <h2 class="text-xl font-semibold mb-4">Instructions</h2>
    <ul class="list-disc list-inside space-y-2 text-gray-700">
      <li>This test contains 4 multiple choice questions.</li>
      <li>Each question has only one correct answer.</li>
      <li>You will have 14 minutes to complete the test.</li>
      <li>Click or tap on an option to select your answer.</li>
      <li>Use the "Mark for Review" button to revisit questions.</li>
      <li>Navigate using Previous/Next buttons or the Questions Navigation panel.</li>
      <li>Click "Submit" to finish and view results.</li>
      <li>The test will auto-submit when time runs out.</li>
    </ul>
    <div class="mt-6 flex space-x-4 button-group md:flex-row flex-col">
      <button class="bg-[#2c5281] text-white px-6 py-2 rounded-lg hover:bg-[#2c5281] transition" id="start-test">Start Test</button>
    </div>
    <div class="error-message hidden" id="error-message"></div>
  </div>
</section>

 Quiz Section 
<section class="container mx-auto px-4 md:px-6 pt-4 md:pt-6 pb-1 hidden section-transition" id="quiz">
  <div class="bg-white rounded-lg shadow-md p-4 md:p-6">
     Progress Bar 
    <div class="w-full bg-gray-200 rounded-full h-3 mb-4">
      <div class="progress-bar h-3 rounded-full" id="progress-bar" style="width: 0%"></div>
    </div>
    
     Question Header 
    <div class="flex flex-col md:flex-row justify-between items-center mb-4">
      <h2 class="text-lg font-semibold" id="question-number">Question <span>1</span> of 4</h2>
      <p class="text-lg font-semibold mt-2 md:mt-0" id="timer">Time Remaining: <span>00:00</span></p>
    </div>
    
     Question Content 
    <div class="mb-6" id="question-content">
      <p class="text-gray-800 mb-4" id="question-text"></p>
      <div class="flex flex-wrap gap-4 mb-4" id="question-images"></div>
      <div class="space-y-3" id="options"></div>
    </div>
    
     Navigation Buttons 
    <div class="flex flex-col md:flex-row justify-between items-center gap-2 md:gap-4">
      <div class="flex gap-2 w-full md:w-auto">
        <button class="bg-[#2c5281] text-white px-4 py-3 w-full md:w-32 h-14 rounded-lg hover:bg-[#2c5281] transition" disabled="" id="previous-btn">Previous</button>
        <button class="bg-[#2c5281] text-white px-4 py-3 w-full md:w-32 h-14 rounded-lg hover:bg-[#2c5281] transition" id="next-btn">Next</button>
      </div>
      <div class="flex items-center gap-2">
        <button class="bg-transparent text-gray-700 px-4 py-2 rounded-lg hover:bg-gray-100 transition flex items-center gap-1" id="mark-review">
          Review
          <svg xmlns="http://www.w3.org/2000/svg" class="h-5 w-5" viewBox="0 0 20 20" fill="currentColor">
            <path d="M10 2a1 1 0 00-1 1v14l3.293-3.293a1 1 0 011.414 0L17 17V3a1 1 0 00-1-1H10z" />
          </svg>
        </button>
        <button class="bg-transparent text-gray-700 px-4 py-2 rounded-lg hover:bg-gray-100 transition flex items-center gap-1" id="nav-toggle">
          Question ðŸ§­
        </button>
        <button class="bg-green-500 text-white px-6 py-3 w-44 h-14 rounded-lg hover:bg-green-600 transition w-full md:w-auto" id="submit-test">Submit Test</button>
      </div>
    </div>
  </div>
</section>

 Results Section 
<section class="container mx-auto px-4 md:px-6 pt-4 md:pt-6 pb-1 hidden section-transition" id="results">
  <div class="bg-white rounded-lg shadow-md p-4 md:p-6">
    <h2 class="text-2xl font-semibold mb-4">Anaesthesia Machine - Results</h2>
    <div class="grid grid-cols-1 md:grid-cols-2 gap-4 mb-6">
      <p><strong>Correct:</strong> <span id="correct-count" class="text-[#000000]">0</span></p>
      <p><strong>Wrong:</strong> <span id="wrong-count" class="text-[#000000]">0</span></p>
      <p><strong>Unanswered:</strong> <span id="unanswered-count" class="text-[#000000]-500">0</span></p>
      <p><strong>Marked for Review:</strong> <span id="marked-count" class="text-[#000000]">0</span></p>
    </div>
    <h3 class="text-lg font-semibold mb-4" id="result-question-number">Question <span>1</span> of 4</h3>
    <div class="space-y-6" id="results-content"></div>
    <div class="result-nav">
      <button aria-label="Previous question result" class="result-nav-btn bg-[#2c5281] text-white px-6 py-2 rounded-lg hover:bg-[#2c5281] transition" disabled="" id="prev-result">Previous</button>
      <button aria-label="Toggle results navigation panel" class="result-nav-btn bg-[#2c5281] text-white px-6 py-2 rounded-lg hover:bg-[#2c5281] transition" id="results-nav-toggle">Result ðŸ§­</button>
      <button aria-label="Next question result" class="result-nav-btn bg-[#2c5281] text-white px-6 py-2 rounded-lg hover:bg-[#2c5281] transition" id="next-result">Next</button>
    </div>
    <div class="mt-6 flex space-x-4 button-group md:flex-row flex-col">
      <button class="bg-green-500 text-white px-6 py-2 rounded-lg hover:bg-green-600 transition" id="take-again">Take Again</button>
    </div>
  </div>
</section>

 Modals and Navigation Panels 
 Exit Confirmation Modal 
<div class="fixed inset-0 bg-black bg-opacity-50 flex items-start justify-center p-4 hidden" id="exit-modal" style="align-items: flex-start; padding-top: 33vh;">
  <div class="bg-white rounded-lg p-6 max-w-sm w-full">
    <h2 class="text-xl font-semibold mb-4">Leave Test?</h2>
    <p class="text-gray-700 mb-4">Your progress will be lost if you leave this page. Are you sure you want to exit?</p>
    <div class="flex justify-end space-x-4">
      <button class="bg-gray-300 text-gray-700 px-4 py-2 rounded-lg hover:bg-gray-400 transition" id="continue-test">No, Continue</button>
      <button class="bg-red-500 text-white px-4 py-2 rounded-lg hover:bg-red-600 transition" id="exit-test">Yes, Exit</button>
    </div>
  </div>
</div>

 Submit Confirmation Modal 
<div class="fixed inset-0 bg-black bg-opacity-50 flex items-start justify-center p-4 hidden" id="submit-modal" style="align-items: flex-start; padding-top: 33vh;">
  <div class="bg-white rounded-lg p-6 max-w-sm w-full">
    <h2 class="text-xl font-semibold mb-4">Confirm Submission</h2>
    <p class="text-gray-700 mb-2">You have attempted <span id="attempted-count">0</span> of 4 questions.</p>
    <p class="text-gray-700 mb-4"><span id="unattempted-count">0</span> questions are unattempted.</p>
    <div class="flex justify-end space-x-4">
      <button class="bg-gray-300 text-gray-700 px-4 py-2 rounded-lg hover:bg-gray-400 transition" id="cancel-submit">Cancel</button>
      <button class="text-white px-4 py-2 rounded-lg hover:bg-[#1a365d] transition" style="background-color: #2c5281;" id="confirm-submit">Submit Test</button>
    </div>
  </div>
</div>

 Quiz Navigation Panel 
<div class="fixed inset-0 bg-black bg-opacity-50 flex items-start justify-center p-4 z-50 nav-panel hidden overflow-y-auto" id="nav-panel" style="align-items: flex-start; padding-top: 33vh;">
  <div class="bg-white shadow-lg p-4 rounded-lg w-full max-w-2xl max-h-[80vh] overflow-y-auto">
    <h2 class="text-lg font-semibold mb-4">Questions Navigation</h2>
    <div class="mb-4">
      <select class="w-full p-2 border rounded-lg text-gray-700" id="nav-filter">
        <option value="all">All Questions</option>
        <option value="answered">Answered</option>
        <option value="unanswered">Unanswered</option>
        <option value="marked">Marked for Review</option>
      </select>
    </div>
    <div class="grid grid-cols-5 gap-2 md:gap-3" id="nav-grid"></div>
    <button class="mt-4 bg-gray-500 text-white px-4 py-2 rounded-lg hover:bg-gray-600 transition w-full" id="close-nav">Close</button>
  </div>
</div>

 Results Navigation Panel 
<div class="fixed inset-0 bg-black bg-opacity-50 flex items-start justify-center p-4 z-50 results-nav-panel hidden overflow-y-auto" id="results-nav-panel" style="align-items: flex-start; padding-top: 33vh;">
  <div class="bg-white shadow-lg p-4 rounded-lg w-full max-w-2xl max-h-[80vh] overflow-y-auto">
    <h2 class="text-lg font-semibold mb-4">Results Navigation</h2>
    <div class="mb-4">
      <select class="w-full p-2 border rounded-lg text-gray-700" id="results-nav-filter">
        <option value="all">All Questions</option>
        <option value="answered">Answered</option>
        <option value="unanswered">Unanswered</option>
        <option value="marked">Marked for Review</option>
      </select>
    </div>
    <div class="grid grid-cols-5 gap-2 md:gap-3" id="results-nav-grid"></div>
    <button class="mt-4 bg-gray-500 text-white px-4 py-2 rounded-lg hover:bg-gray-600 transition w-full" id="close-results-nav">Close</button>
  </div>
</div>

<script src="quiz.js"></script>
</body>
</html>
